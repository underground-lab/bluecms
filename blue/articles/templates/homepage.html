{% extends "base_with_sidebar.html" %}
{% load static %}
{% load markdown_extras %}
{% load article_filters %}

<body>
    {% block content %}

    {% if object_list %}
        {% for obj in object_list %}
            <h1><a {% if search != '' %} href="{% url 'article' obj.pk %}?search={{ search }}" {% else %} href="{% url 'article' obj.pk %}" {% endif %}>{{ obj.header  | highlight:search }}</a></h1>
            {{ obj.perex | markdown | safe | highlight:search }}
        {% endfor %}
    {% else %}
        <h3>No articles</h3>
    {% endif %}

    {% if is_paginated %}
    <a {% if page_obj.has_previous %} href="?page={{page_obj.previous_page_number}}" {% endif %}>Previous</a>
    {% for i in paginator.page_range %}
        {% if page_obj.number == i %} <b> {% endif %} <a class="page-link" href="?page={{i}}">{{i}}</a> {% if page_obj.number == i %} </b> {% endif %}
    {% endfor %}
    <a {% if page_obj.has_next %} href="?page={{page_obj.next_page_number}}" {% endif %}>Next</a>
    {% endif %}

    {% endblock %}
</body>
